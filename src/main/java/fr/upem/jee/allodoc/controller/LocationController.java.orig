package fr.upem.jee.allodoc.controller;

<<<<<<< HEAD
import fr.upem.jee.allodoc.DatabaseManager;
import fr.upem.jee.allodoc.jpa.Location;

import javax.inject.Inject;
import javax.persistence.TypedQuery;
import java.util.List;

=======
import fr.upem.jee.allodoc.jpa.Location;

>>>>>>> origin/develop
/**
 * Created by raptao on 12/14/2016.
 */
public class LocationController {
<<<<<<< HEAD

    @Inject
    private DatabaseManager manager;

    public LocationController() {
    }

    public Location getByPostalCode( int postalCode ){
        TypedQuery<Location> findByPostalCode = manager.getEntityManager().createNamedQuery("findByPostalCode", Location.class);
        findByPostalCode.setParameter("pc", postalCode);
        List<Location> resultList = findByPostalCode.getResultList();
        return resultList.isEmpty() ? null : resultList.get(0);
    }

    public Location add(Integer postalCode, String city, String country){
        Location location = getByPostalCode(postalCode);
        if ( location == null ){
            Location newLocation = new Location(postalCode, city, country);
            manager.save(newLocation);
            return newLocation;
        }
        return location;
    }
}
=======
    
    public static Location getController(){
        return null;   
    }
    
    
    public static Location getLocation(String name){
        return null;
        
    }
    
    public static void save(Location location){
        
    }
}
>>>>>>> origin/develop
